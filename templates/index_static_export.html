<!DOCTYPE html>
<html lang="en" class="busyCursor">
<head>
    <title>HTML Export - ResearchParÃ§a - PCB Inspection Papers</title>
    <link rel="stylesheet" type="text/css" href="static/fonts.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“Š</text></svg>">
    <style>
    {{ style_css_content | safe }}
    /* Overrides for static export: Disable editable status hover/active, doing it here because .editable-status is used by JS for sorting, etc.*/        
    .editable-status:active,.editable-status:hover,.editable-verify:active,.editable-verify:hover{transform:unset;background-color:unset;cursor:default}
    .editable-status:hover,.editable-verify:hover{box-shadow:0 1px 2px rgba(0,0,0,.1)}
    /* fix ? / stats buttons misalingment cross-browser gaslighting: */
    .header-filters > div:last-child { 
        display: flex;
        align-items: center; /* Align items vertically in the center */
        gap: 4px; /* Control spacing between items */
    }
    </style>
    <script>
    {{ chart_js_content | safe }}
    {{ chart_js_datalabels_content | safe }}
    {{ d3_js_content | safe }}
    {{ d3_cloud_js_content | safe }}
    </script>
</head>
<body id="html-export">
<div class="table-container" id="papers-table-container">
    <table id="papersTable" style="table-layout: fixed;">
        <colgroup>
            <col style="width: 27px; min-width: 27px; max-width: 27px;"> <!-- PDF (Rotated Header) -->
            <col style="width: 50%"> <!-- Title (Should Expand)-->
            <col style="width: 25%"> <!-- Title (Should Expand)-->
            <col style="width: 40px; min-width: 40px; max-width:40px;"> <!--  Year -->
            <col style="width: 27px; min-width: 27px; max-width: 27px;"> <!-- Pages (Rotated Header) -->
            <col style="width: 25%"> <!-- Journal/Conf (Should Expand) -->
            <col style="width: 27px; min-width: 27px; max-width: 27px;"> <!-- Type (Rotated Header) -->
            <col style="width: 27px; min-width: 27px; max-width: 27px;"> <!-- Off-topic -->
            <col style="width: 27px; min-width: 27px; max-width: 27px;"> <!-- Relevance -->
            <col style="width: 27px; min-width: 27px; max-width: 27px;"> <!-- Survey -->

            <col style="width: 56px; min-width: 56px; max-width: 56px;"> <!-- Last Changed -->
            <col style="width: 27px; min-width: 27px; max-width: 27px;"> <!-- user comments state -->
            <col style="width: 44px; min-width: 44px; max-width: 44px;"> <!-- Details -->          
            
            <!-- hidden metadata fields -->
            <col style="display:none"> 
            <col style="display:none"> 
            <col style="display:none"> 
            <col style="display:none"> 
        </colgroup>
        <thead>
            <tr>
                <th id="main-header-wrapper" colspan=17 style="display: none;"></th> <!-- this must exist for CSS consistency between export and real page (uses nth-child, etc.) -->
                
                <!-- Hidden metadata fields -->
                <th style="display:none" colspan="4"></th>
            </tr>
            <tr>
                <th class="ontop-header" colspan="6" rowspan="2"> 
                    <div class="header-filters">
                        <div class="filter-item">
                            <input type="checkbox" id="hide-short-checkbox"  style="display: none;">
                            <label for="min-page-count">Min. page count â‰¥</label>
                            <input type="number" id="min-page-count" value="{{ min_page_count_value }}" min="{{ min_page_count_value }}" max="9" title="Exported file contains papers with at least {{ min_page_count_value }} pages">
                        </div>
                        <div class="filter-item">
                            <label for="year-from">Year:</label>
                            <input type="number" id="year-from" value="{{ year_from_value }}" min="{{ year_from_value }}" max="{{ year_to_value }}" title="Exported file contains papers from {{ year_from_value }} to {{ year_to_value }}.">
                            <label for="year-to">to</label>
                            <input type="number" id="year-to" value="{{ year_to_value }}" min="{{ year_from_value }}" max="{{ year_to_value }}" title="Exported file contains papers from {{ year_from_value }} to {{ year_to_value }}.">
                        </div>
                        <div>
                            <div class="header-checkboxes">
                                <!-- This button will now trigger a page reload with updated URL parameters -->
                                <button class="action-btn" id="apply-serverside-filters" style="opacity:0; pointer-events: none;"><span>Apply</span></button>
                                <div class="filter-item">
                                    <label for="hide-offtopic-checkbox">Hide<br>Off-topic</label>
                                    <input type="checkbox" id="hide-offtopic-checkbox" {% if hide_offtopic == true %}checked disabled title="Can't unhide offtopic papers. File was exported only with ontopic papers"{% endif %}>
                                </div>
                                <div class="filter-item">
                                    <label for="only-survey-checkbox">Filter<br>surveys</label>
                                    <input type="checkbox" title="Enable to only show Surveys" id="only-survey-checkbox">
                                </div>
                            </div>
                            <button class="action-btn" id="about-btn" title="About / Help" ><span>?</span></button>
                            <button class="action-btn" id="stats-btn">View <strong>Statistics</strong></button>
                        </div>
                    </div>
                </th>
                <th class="ontop-header" colspan="7" rowspan="2" >
                    <div class="search-container">
                        <input type="search" id="search-input" placeholder="(F3) Type to search all fields..." value="{{ search_query_value }}">
                        <button type="button" id="clear-search-btn" class="clear-btn" title="Clear search">&times;</button>
                    </div>
                </th>
                
                <th style="display:none" colspan="4"></th>
            </tr>
            <tr>
                <th class=" ontop-header" colspan="1">
                    <div>
                        <input type="checkbox" title="Enable to Hide Offtopic papers" id="hide-offtopic-checkbox" {% if hide_offtopic == true %}checked{% endif %}>
                    </div>
                </th>
                <th class=" ontop-header" colspan="1"></th>
                <th class=" ontop-header" colspan="1">
                    <div>
                        <input type="checkbox" title="Enable to only show Surveys" id="only-survey-checkbox">
                    </div>
                </th>
            </tr>
            <tr>
                <th class="rotate-header status-header editable-header" data-sort="pdf-link"><div><span>PDF</span></div> <span class="sort-indicator"></span></th>
                <th data-sort="title">Title (Click for article) <span class="sort-indicator"></span></th>
                <th data-sort="authors">Authors <span class="sort-indicator"></span></th>
                <th data-sort="year">Year <span class="sort-indicator"></span></th>
                <th class="rotate-header" data-sort="page_count" ><div><span>Pages</span></div> <span class="sort-indicator"></span></th>
                <th data-sort="journal">Journal/Conf <span class="sort-indicator"></span></th>    
                <th class="rotate-header status-header editable-header" data-sort="type"><div><span>Type</span></div> <span class="sort-indicator"></span></th>

                <!-- Classification Summary Columns -->
                <th class=" rotate-header status-header editable-header" data-sort="is_offtopic"><span class="sort-indicator"></span><div><span>Off-topic</span></div></th>
                <th class=" rotate-header status-header" data-sort="relevance"><span class="sort-indicator"></span><div><span>Relevance</span></div></th>
                <th class=" rotate-header status-header editable-header" data-sort="is_survey"><span class="sort-indicator"></span><div><span>Survey</span></div></th>

                <th data-sort="changed">Last Changed <span class="sort-indicator"></span></th>
                <th class="rotate-header status-header" data-sort="user_comment_state"><span class="sort-indicator"></span><div><span>Commented</span></div></th>
                <th class="rotate-header"><div>Details</div></th> <!-- must be 50px due to 'collapse' button text -->
                <!-- Hidden metadata fields -->
                <th style="display:none" colspan="4"></th>
            </tr>
        </thead>
        {{ papers_table_static_export | safe }}
        {% include 'papers_table_tfoot.html' %}
    </table>
</div>

<div id="statsModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        {% include 'stats_modal_content.html' %}
    </div>
</div>

<div id="aboutModal" class="modal">
    <div class="modal-small-content">
        <span class="close">&times;</span>      
        {% include 'about_modal_content.html' %}
    </div>
</div>

<script>
    {{ ghpages_js_content | safe }}
    {{ stats_js_content | safe }}
    {{ filtering_js_content | safe }}
</script>
</body>
</html>